{% extends 'base.html' %}
{% load custom_tags %}


{% load static %}
{% block title %} {{request.user.profile.client}}   INSPECTION {{inspection.0.0.0}} {% endblock%}

{% block PageTitle %}{{request.user.profile.client}} || {{warehouseName.0.0.0}} {% endblock %}

{% block PageInfo %}
<div >
<p>{{warehouseName.0.0.1}},{{warehouseName.0.0.2}},<br>{{warehouseName.0.0.3}}<br>
Inspection date:{{inspection.0.0.1}} || Description : {{inspection.0.0.0}} </p></div>
{% endblock %}


{% block indicators %}
        <div class="row">
          <div class="col-lg-3 col-6">
            <!-- small box -->
            <div class="small-box bg-info">
              <div class="inner">
                <h3>{{warehouseTotalCount}}</h3>

                <p>WMS Ocupation</p>
              </div>
              <div class="icon">
                <i class="ion ion-bag"></i>
              </div>

              <span class="small-box-footer">                <h3>{{readedCount}}</h3>
                  <p>Read Ocupation</p></span>
            </div>
          </div>
          <!-- ./col -->
          <div class="col-lg-3 col-6">
            <!-- small box -->
            <div class="small-box bg-success">
              <div class="inner">
                <h3>{{warehouseTotalPositions}}</h3>

                <p>WMS positions</p>
              </div>
                 <div class="small-box-footer">
                <h3>{{readedPositions}}</h3>

                <p>Readed positions</p>
              </div>

            </div>
          </div>
          <!-- ./col -->
          <div class="col-lg-3 col-6">
            <!-- small box -->
            <div class="small-box bg-warning">
              <div class="inner ">
                <h3>{{warehouseRatio}} %</h3>

                <p>Ocupation Ratio</p>
              </div>
                <div class="small-box-footer ">
                <h3>{{readedRatio}} %</h3>

                <p>Readed Ratio</p>
              </div>


            </div>
          </div>
          <!-- ./col -->
          <div class="col-lg-3 col-6">
            <!-- small box -->
            <div class="small-box bg-danger">
              <div class="inner">
                <h3>6<sup style="font-size: 20px">%</sup></h3>

                <p>Missmatch</p>
              </div>
              <div class="icon">
                <i class="ion ion-pie-graph"></i>
              </div>
              <a href="#" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
            </div>
          </div>
          <!-- ./col -->
        </div>
{% endblock %}

{% block content %}

  <div class="row">
    <!-- Left col -->
    <section class="col-lg-10 connectedSortable">
      <!-- Custom tabs (TABLE)-->
     <div class="card">
              <div class="card-header">
                <h3 class="card-title">Position | Unit match</h3>
              </div>
              <!-- /.card-header -->
              <div class="card-body">
                <div id="example1_wrapper" class="dataTables_wrapper dt-bootstrap4"><div class="row">

                  <table id="table1" name="example1" class="table table-responsive table-bordered table-striped dataTable dtr-inline" role="grid" aria-describedby="table1_info">
                  <thead>
                  <tr role="row">
                      {% for col in description %}
                      <th class="sorting" tabindex="0" aria-controls="example1" rowspan="1" colspan="1" aria-label="Browser: activate to sort column ascending">{{col}}</th>
                      {% endfor %}
                  </tr>
                  </thead>
                  <tbody>
                  {% for row in data %}
                    {% with idPic=row.0%}
                  <tr role="row" class="odd">
                    {% for item in row %}
                    <td> {% if forloop.last %}
                      <a href="{% static picpath|getList_value:idPic %}" >
<!--                        <i class="fas fa-camera"></i>-->

                       <img class="img-fluid img-thumbnail" src="{% static picpath|getList_value:idPic %}" style="" alt="">
                        </a>
                        {% else %} {{item}}
                        {% endif %}


                    </td>

                      {% endfor %}
                    {% endwith %}
                  </tr>
                  {% endfor %}
               </tbody>
                  <tfoot>
                   <tr role="row">
                      {% for col in description %}
                      <th class="sorting" tabindex="0" aria-controls="example1" rowspan="1" colspan="1" aria-label="Browser: activate to sort column ascending">{{col}}</th>
                      {% endfor %}
                  </tr>
                  </tfoot>
                </table></div></div>
              </div>
              <!-- /.card-body -->
            </div>

      <!-- /.card -->


      <!-- /.card -->
    </section>
    <!-- /.Left col -->
    <!-- right col (We are only adding the ID to make the widgets sortable)-->

    <!-- right col -->
  </div>

{% endblock %}

{% block pageScripts %}
<script>
  $(document).ready(function() {

    $("#table1").DataTable({
      "responsive": true,
      "autoWidth": false,
    });
} );
</script>
{% endblock %}